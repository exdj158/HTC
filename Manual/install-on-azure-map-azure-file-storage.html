<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configure Http Commander to work with network share from Azure File Storage (Windows version)</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <script type="text/javascript" language="javascript">
        function toggleBlock(el, id) {
            if (document.getElementById(id).style.display == 'none') {
                document.getElementById(id).style.display = 'block';
				el.innerHTML="Hide screenshot"
            }
            else {
                document.getElementById(id).style.display = 'none';
				el.innerHTML="Show screenshot"
            }
        }
    </script>
    
    <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
            <td width="320">
                <table>
                    <tr>
                        <td style="vertical-align:top;text-align:left;">
                            <a target='_blank' href='http://www.element-it.com/asp-net-explorer-browser/online-share/web-file-manager.aspx'><img style='cursor:pointer;' alt="HTTP Commander" src="Images/HCLogo.png" border="0" /></a>
                        </td>
                        <td class="green" style="vertical-align:top;text-align:left;padding-top:21px;">
                            &nbsp;AJS 4.x
                        </td>
                    </tr>
                </table>
                <span class="gray">Manual</span>
            </td>
            <td>
  <!-- For windows version only. Start --> 
	<p>
	<strong>Note!</strong> This Manual is for the <strong>"Windows authentication"</strong> version, 
	which is designed to work with existing Windows server or Active Directory accounts and Windows authentication. 
	If you want to create accounts by yourself and store their credentials in your own HTTP Commander XML database, 
	you need to download the <a target="_blank" href="http://www.element-it.com/downloadfile.aspx?type=st">"Forms authentication" version</a>!
	This Manual is for the Windows authentication version only!
	</p>
	<!-- For windows version only. End --> 
	
 
            </td>
            <td align="char" width="230">
                <img alt="" src="Images/world.jpg" align="middle" hspace="5" style="vertical-align:top;padding-top:1px;" /><b><a target="_blank" title="web file manager" href="http://www.element-it.com/asp-net-explorer-browser/online-share/web-file-manager.aspx">Web file manager</a></b><br />
                <img alt="" src="Images/support.png" width="16" height="16" align="middle" hspace="5" style="vertical-align:top;padding-top:1px;" /><b><a href="onlinesupport.html" target="main">Free Installation assistance</a></b><br />
                <img alt="" src="Images/help.png" align="middle" width="16" height="16" hspace="5" style="vertical-align:top;padding-top:1px;" /><b><a
                    href="index.html" title="Manual Home page" target="_blank">Manual Home page</a></b><br />
            </td>
        </tr>
    </table>
    
    <p class="topic">
        <a id="installation-on-amazon">Configure Http Commander to work with network share from Azure File Storage</a>
    </p>

	
   <a href="https://azure.microsoft.com/en-us/services/storage/files/" target="_blank" rel="nofollow">Azure File storage</a>  offers file shares in the Azure Cloud using standard SAMBA protocol. Main advantage of Azure file share is that it not limited to Virtual Machine. You can use the same share on several VM or in another Azure service and on premises. 
   Http Commander running on Azure VMs can mount the file shares created on Azure Files storage and use it as shared folder.

<br/>
<br/>
<strong>Steps To Configure Http Commander for work with Azure File Storage</strong>
	<ol>
		<li>Login to <a href="https://portal.azure.com" target="_blank" rel="nofollow">Azure portal</a>.
		Create or use existing storage account in <a href="https://portal.azure.com" target="_blank" rel="nofollow">Azure portal</a>. We recommend to choose the location same as where VM with Http COmmander is located.
		<br />
			<a target="_blank" href="Images/install-on-azure/1-create-storage.png" onclick="toggleBlock(this, '1-create-storage'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="1-create-storage" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/1-create-storage.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li>Click <strong>"File"</strong> under <strong>"Overview"</strong> section. 
			<br />
			<a target="_blank" href="Images/azure-file-storage/2-storage-files.png" onclick="toggleBlock(this, '2-storage-files'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="2-storage-files" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/2-storage-files.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li>Press <strong>"+File share"</strong> button on toolbar.
			<br />
			<a target="_blank" href="Images/azure-file-storage/3-add-share.png" onclick="toggleBlock(this, '3-add-share'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="3-add-share" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/3-add-share.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li> Set share name and size.
			<br />
			<a target="_blank" href="Images/azure-file-storage/4-new-share.png" onclick="toggleBlock(this, '4-new-share'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="4-new-share" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/4-new-share.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li>Select newly created share and click on <strong>"Connect"</strong> button. 
			<br />
			<a target="_blank" href="Images/azure-file-storage/5-share-connect.png" onclick="toggleBlock(this, '5-share-connect'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="5-share-connect" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/5-share-connect.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li> Copy (and save somewhere) url to file share , then click on <strong>"view access keys for this storage account"</strong> link.
			<br />
			<a target="_blank" href="Images/azure-file-storage/5.1-share-url.png" onclick="toggleBlock(this, '5.1-share-url'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="5.1-share-url" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/5.1-share-url.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li>Keep window with account name and access key opened during next steps. We will use this info to create windows account with the same credentials.
			<br />
			<a target="_blank" href="Images/azure-file-storage/6-share-keys.png" onclick="toggleBlock(this, '6-share-keys'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="6-share-keys" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/6-share-keys.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li> Connect to VM where Http Commander is installed on, open <strong>computer management</strong>, navigate to <strong>"Local users and groups"</strong> section. 
		Create new user with the same credentials as show on previous step. use account name as username and one of access key as password.
			<br />
			<a target="_blank" href="Images/azure-file-storage/7-add-windows-user.png" onclick="toggleBlock(this, '7-add-windows-user'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="7-add-windows-user" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/7-add-windows-user.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li> Once user created, we need to configure Http Commander application pool to work under his identity. <br/>
		Open IIS management console, application pools section, select <strong>htcomnetpool</strong> (pool under which Http Commander is working).<br/>
		Click on <strong>"Advanced settings..."</strong> link.
			<br />
			<a target="_blank" href="Images/azure-file-storage/8-select-app-pool.png" onclick="toggleBlock(this, '8-select-app-pool'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="8-select-app-pool" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/8-select-app-pool.png" style="width: 800px" />
				</p>
			</div>
		</li>
		<li> Navigate to <strong>"Identity"</strong> row and change it to <strong>"Custom account"</strong>, use the same credentials from Azure storage account. 
			<br />
			<a target="_blank" href="Images/azure-file-storage/9-pool-identity.png" onclick="toggleBlock(this, '9-pool-identity'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="9-pool-identity" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/9-pool-identity.png" style="width: 800px" /><br/>
					&nbsp;<img src="Images/azure-file-storage/10-poll-custom-account.png" style="width: 800px" /><br/>
					&nbsp;<img src="Images/azure-file-storage/11-pool-account-username.png" style="width: 800px" /><br/>
				</p>
			</div>
		</li>
		
		<li>Open Http Commander in browser, login as administrator and open <strong>Admin panel</strong>. <br/>
		Add new shared folder and specify url to Azure file share in <strong>"Physical path"</strong> field. Click on <strong>"test access</strong> button. Test should be passed if configuration is done correctly.
			<br />
			<a target="_blank" href="Images/azure-file-storage/11-add-http-rule.png" onclick="toggleBlock(this, '12-open-htcomnet'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="12-open-htcomnet" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/12-open-htcomnet.png" style="width: 800px" /><br/>
					&nbsp;<img src="Images/azure-file-storage/13-add-new-shared-folder.png" style="width: 800px" /><br/>					
				</p>
			</div>
		</li>
		<li>Open Http Commander main ui (restart application or user re-login may be required in order to see newly added folder) and check that Azure file share is working correctly. 
			<br />
			<a target="_blank" href="Images/azure-file-storage/14-test-access.png" onclick="toggleBlock(this, '14-test-access'); return false;"
				class="imglink">Hide screenshot</a>
			<div id="14-test-access" style="display: block;">
				<p class="screenshot">
					&nbsp;<img src="Images/azure-file-storage/14-test-access.png" style="width: 800px" />
				</p>
			</div>
		</li>
		
	</ol>
<br/><br/>    
</body>
</html>
